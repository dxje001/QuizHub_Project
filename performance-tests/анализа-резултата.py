#!/usr/bin/env python3
# -*- coding: utf-8 -*-
"""
–°–∫—Ä–∏–ø—Ç–∞ –∑–∞ –∞–Ω–∞–ª–∏–∑—É –ø–µ—Ä—Ñ–æ—Ä–º–∞–Ω—Å–∏
–ê–Ω–∞–ª–∏–∑–∏—Ä–∞ –ö6 —Ä–µ–∑—É–ª—Ç–∞—Ç–µ —Ç–µ—Å—Ç–∏—Ä–∞—ö–∞ –∏ –≥–µ–Ω–µ—Ä–∏—à–µ –∏–∑–≤–µ—à—Ç–∞—ò —Å–∞ –≥—Ä–∞—Ñ–∏–∫–æ–Ω–∏–º–∞

–ê—É—Ç–æ—Ä: –î—É—à–∞–Ω
–î–∞—Ç—É–º: 2025-10-21
–ù–∞–º–µ–Ω–∞: –£–Ω–∏–≤–µ—Ä–∑–∏—Ç–µ—Ç—Å–∫–∏ —Ä–∞–¥ - –ü–æ—Ä–µ—í–µ—ö–µ –º–æ–Ω–æ–ª–∏—Ç–∞ –∏ –º–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å–∞
"""

import json
import glob
import matplotlib.pyplot as plt
import numpy as np
from datetime import datetime
import os

# –ü–æ–¥–µ—à–∞–≤–∞—ö–µ –∑–∞ —õ–∏—Ä–∏–ª–∏—Ü—É
plt.rcParams['font.family'] = 'DejaVu Sans'

class –ê–Ω–∞–ª–∏–∑–∞—Ç–æ—Ä–ü–µ—Ä—Ñ–æ—Ä–º–∞–Ω—Å–∏:
    """–ê–Ω–∞–ª–∏–∑–∏—Ä–∞ —Ä–µ–∑—É–ª—Ç–∞—Ç–µ —Ç–µ—Å—Ç–æ–≤–∞ –ø–µ—Ä—Ñ–æ—Ä–º–∞–Ω—Å–∏ –∏ –≥–µ–Ω–µ—Ä–∏—à–µ –≤–∏–∑—É–µ–ª–∏–∑–∞—Ü–∏—ò–µ"""

    def __init__(self):
        self.—Ä–µ–∑—É–ª—Ç–∞—Ç–∏ = {
            '–º–æ–Ω–æ–ª–∏—Ç': {},
            '–º–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å–∏': {}
        }
        self.—Å—Ü–µ–Ω–∞—Ä–∏—ò–∏ = ['light_load', 'medium_load', 'heavy_load']
        self.–Ω–∞–∑–∏–≤–∏_—Å—Ü–µ–Ω–∞—Ä–∏—ò–∞ = {
            'light_load': '–õ–∞–∫–æ –æ–ø—Ç–µ—Ä–µ—õ–µ—ö–µ (5 –∫–æ—Ä–∏—Å–Ω–∏–∫–∞)',
            'medium_load': '–°—Ä–µ–¥—ö–µ –æ–ø—Ç–µ—Ä–µ—õ–µ—ö–µ (20 –∫–æ—Ä–∏—Å–Ω–∏–∫–∞)',
            'heavy_load': '–¢–µ—à–∫–æ –æ–ø—Ç–µ—Ä–µ—õ–µ—ö–µ (50 –∫–æ—Ä–∏—Å–Ω–∏–∫–∞)'
        }

    def —É—á–∏—Ç–∞—ò_—Ä–µ–∑—É–ª—Ç–∞—Ç–µ(self):
        """–£—á–∏—Ç–∞–≤–∞ —Å–≤–µ JSON —Ñ–∞—ò–ª–æ–≤–µ —Å–∞ —Ä–µ–∑—É–ª—Ç–∞—Ç–∏–º–∞"""
        print("üìÇ –£—á–∏—Ç–∞–≤–∞—ö–µ —Ä–µ–∑—É–ª—Ç–∞—Ç–∞ —Ç–µ—Å—Ç–∏—Ä–∞—ö–∞...")

        —Ñ–∞—ò–ª–æ–≤–∏_—Ä–µ–∑—É–ª—Ç–∞—Ç–∞ = glob.glob('results-*.json')

        if not —Ñ–∞—ò–ª–æ–≤–∏_—Ä–µ–∑—É–ª—Ç–∞—Ç–∞:
            print("‚ùå –ù–∏—ò–µ –ø—Ä–æ–Ω–∞—í–µ–Ω –Ω–∏—ò–µ–¥–∞–Ω —Ñ–∞—ò–ª —Å–∞ —Ä–µ–∑—É–ª—Ç–∞—Ç–∏–º–∞!")
            print("   –ü—Ä–≤–æ –ø–æ–∫—Ä–µ–Ω–∏—Ç–µ —Ç–µ—Å—Ç–æ–≤–µ: ./run-comparison-tests.ps1")
            return False

        for —Ñ–∞—ò–ª in —Ñ–∞—ò–ª–æ–≤–∏_—Ä–µ–∑—É–ª—Ç–∞—Ç–∞:
            try:
                with open(—Ñ–∞—ò–ª, 'r', encoding='utf-8') as f:
                    –ø–æ–¥–∞—Ü–∏ = json.load(f)

                    # –ò–∑–¥–≤–∞—ò–∞—ö–µ –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–µ –∏ —Å—Ü–µ–Ω–∞—Ä–∏—ò–∞ –∏–∑ –∏–º–µ–Ω–∞ —Ñ–∞—ò–ª–∞
                    –¥–µ–ª–æ–≤–∏ = —Ñ–∞—ò–ª.replace('results-', '').replace('.json', '').split('-')

                    if len(–¥–µ–ª–æ–≤–∏) >= 2:
                        –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞_–µ–Ω–≥ = –¥–µ–ª–æ–≤–∏[0]
                        —Å—Ü–µ–Ω–∞—Ä–∏–æ = '_'.join(–¥–µ–ª–æ–≤–∏[1:])

                        # –ü—Ä–µ–≤–æ–¥ –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–µ
                        –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ = '–º–æ–Ω–æ–ª–∏—Ç' if –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞_–µ–Ω–≥ == 'monolith' else '–º–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å–∏'

                        if –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ in self.—Ä–µ–∑—É–ª—Ç–∞—Ç–∏:
                            self.—Ä–µ–∑—É–ª—Ç–∞—Ç–∏[–∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞][—Å—Ü–µ–Ω–∞—Ä–∏–æ] = –ø–æ–¥–∞—Ü–∏
                            print(f"  ‚úì –£—á–∏—Ç–∞–Ω–æ: {–∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞} - {self.–Ω–∞–∑–∏–≤–∏_—Å—Ü–µ–Ω–∞—Ä–∏—ò–∞.get(—Å—Ü–µ–Ω–∞—Ä–∏–æ, —Å—Ü–µ–Ω–∞—Ä–∏–æ)}")

            except Exception as e:
                print(f"  ‚ö†Ô∏è  –ì—Ä–µ—à–∫–∞ –ø—Ä–∏ —É—á–∏—Ç–∞–≤–∞—ö—É {—Ñ–∞—ò–ª}: {e}")

        return True

    def –∏–∑–¥–≤–æ—ò_–º–µ—Ç—Ä–∏–∫–µ(self, –ø–æ–¥–∞—Ü–∏):
        """–ò–∑–¥–≤–∞—ò–∞ –∫—ô—É—á–Ω–µ –º–µ—Ç—Ä–∏–∫–µ –∏–∑ –ø–æ–¥–∞—Ç–∞–∫–∞ —Ç–µ—Å—Ç–∞"""
        –º–µ—Ç—Ä–∏–∫–µ = –ø–æ–¥–∞—Ü–∏.get('metrics', {})

        return {
            '–ø—Ä–æ—Å–µ—á–Ω–æ_–≤—Ä–µ–º–µ_–æ–¥–∑–∏–≤–∞': –º–µ—Ç—Ä–∏–∫–µ.get('http_req_duration', {}).get('values', {}).get('avg', 0),
            '–º–µ–¥–∏—ò–∞–Ω–∞_–≤—Ä–µ–º–µ–Ω–∞_–æ–¥–∑–∏–≤–∞': –º–µ—Ç—Ä–∏–∫–µ.get('http_req_duration', {}).get('values', {}).get('med', 0),
            '–ø95_–≤—Ä–µ–º–µ_–æ–¥–∑–∏–≤–∞': –º–µ—Ç—Ä–∏–∫–µ.get('http_req_duration', {}).get('values', {}).get('p(95)', 0),
            '–ø99_–≤—Ä–µ–º–µ_–æ–¥–∑–∏–≤–∞': –º–µ—Ç—Ä–∏–∫–µ.get('http_req_duration', {}).get('values', {}).get('p(99)', 0),
            '–º–∞–∫—Å_–≤—Ä–µ–º–µ_–æ–¥–∑–∏–≤–∞': –º–µ—Ç—Ä–∏–∫–µ.get('http_req_duration', {}).get('values', {}).get('max', 0),
            '–º–∏–Ω_–≤—Ä–µ–º–µ_–æ–¥–∑–∏–≤–∞': –º–µ—Ç—Ä–∏–∫–µ.get('http_req_duration', {}).get('values', {}).get('min', 0),
            '–ø—Ä–æ–ø—É—Å–Ω–æ—Å—Ç': –º–µ—Ç—Ä–∏–∫–µ.get('http_reqs', {}).get('values', {}).get('rate', 0),
            '—É–∫—É–ø–Ω–æ_–∑–∞—Ö—Ç–µ–≤–∞': –º–µ—Ç—Ä–∏–∫–µ.get('http_reqs', {}).get('values', {}).get('count', 0),
            '—Å—Ç–æ–ø–∞_–≥—Ä–µ—à–∞–∫–∞': (–º–µ—Ç—Ä–∏–∫–µ.get('errors', {}).get('values', {}).get('rate', 0)) * 100,
            '—Å—Ç–æ–ø–∞_—É—Å–ø–µ—à–Ω–æ—Å—Ç–∏': (1 - –º–µ—Ç—Ä–∏–∫–µ.get('errors', {}).get('values', {}).get('rate', 0)) * 100,
            '–ø—Ä–∏–º—ô–µ–Ω–æ_–º–±': –º–µ—Ç—Ä–∏–∫–µ.get('data_received', {}).get('values', {}).get('count', 0) / 1024 / 1024,
        }

    def –≥–µ–Ω–µ—Ä–∏—à–∏_–≥—Ä–∞—Ñ–∏–∫–æ–Ω–µ(self):
        """–ì–µ–Ω–µ—Ä–∏—à–µ –≥—Ä–∞—Ñ–∏–∫–æ–Ω–µ –ø–æ—Ä–µ—í–µ—ö–∞ –∑–∞ —Ä–∞–¥"""
        print("\nüìä –ì–µ–Ω–µ—Ä–∏—Å–∞—ö–µ –≥—Ä–∞—Ñ–∏–∫–æ–Ω–∞ –ø–æ—Ä–µ—í–µ—ö–∞...")

        –æ–∑–Ω–∞–∫–µ_—Å—Ü–µ–Ω–∞—Ä–∏—ò–∞ = {
            'light_load': '5 –∫–æ—Ä–∏—Å–Ω–∏–∫–∞',
            'medium_load': '20 –∫–æ—Ä–∏—Å–Ω–∏–∫–∞',
            'heavy_load': '50 –∫–æ—Ä–∏—Å–Ω–∏–∫–∞'
        }

        –º–æ–Ω–æ_–ø–æ–¥–∞—Ü–∏ = {}
        –º–∏–∫—Ä–æ_–ø–æ–¥–∞—Ü–∏ = {}

        for —Å—Ü–µ–Ω–∞—Ä–∏–æ in self.—Å—Ü–µ–Ω–∞—Ä–∏—ò–∏:
            if —Å—Ü–µ–Ω–∞—Ä–∏–æ in self.—Ä–µ–∑—É–ª—Ç–∞—Ç–∏['–º–æ–Ω–æ–ª–∏—Ç']:
                –º–æ–Ω–æ_–ø–æ–¥–∞—Ü–∏[—Å—Ü–µ–Ω–∞—Ä–∏–æ] = self.–∏–∑–¥–≤–æ—ò_–º–µ—Ç—Ä–∏–∫–µ(self.—Ä–µ–∑—É–ª—Ç–∞—Ç–∏['–º–æ–Ω–æ–ª–∏—Ç'][—Å—Ü–µ–Ω–∞—Ä–∏–æ])
            if —Å—Ü–µ–Ω–∞—Ä–∏–æ in self.—Ä–µ–∑—É–ª—Ç–∞—Ç–∏['–º–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å–∏']:
                –º–∏–∫—Ä–æ_–ø–æ–¥–∞—Ü–∏[—Å—Ü–µ–Ω–∞—Ä–∏–æ] = self.–∏–∑–¥–≤–æ—ò_–º–µ—Ç—Ä–∏–∫–µ(self.—Ä–µ–∑—É–ª—Ç–∞—Ç–∏['–º–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å–∏'][—Å—Ü–µ–Ω–∞—Ä–∏–æ])

        # –ö—Ä–µ–∏—Ä–∞—ö–µ —Ñ–∏–≥—É—Ä–µ —Å–∞ –ø–æ–¥–≥—Ä–∞—Ñ–∏–∫–æ–Ω–∏–º–∞
        fig = plt.figure(figsize=(16, 12))
        fig.suptitle('–ü–æ—Ä–µ—í–µ—ö–µ –ø–µ—Ä—Ñ–æ—Ä–º–∞–Ω—Å–∏: –ú–æ–Ω–æ–ª–∏—Ç vs –ú–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å–∏', fontsize=16, fontweight='bold')

        # 1. –ü—Ä–æ—Å–µ—á–Ω–æ –≤—Ä–µ–º–µ –æ–¥–∑–∏–≤–∞
        ax1 = plt.subplot(2, 3, 1)
        self._–Ω–∞—Ü—Ä—Ç–∞—ò_–ø–æ—Ä–µ—í–µ—ö–µ(ax1, –º–æ–Ω–æ_–ø–æ–¥–∞—Ü–∏, –º–∏–∫—Ä–æ_–ø–æ–¥–∞—Ü–∏, '–ø—Ä–æ—Å–µ—á–Ω–æ_–≤—Ä–µ–º–µ_–æ–¥–∑–∏–≤–∞',
                              '–ü—Ä–æ—Å–µ—á–Ω–æ –≤—Ä–µ–º–µ –æ–¥–∑–∏–≤–∞ (ms)', –æ–∑–Ω–∞–∫–µ_—Å—Ü–µ–Ω–∞—Ä–∏—ò–∞)

        # 2. 95. –ø–µ—Ä—Ü–µ–Ω—Ç–∏–ª –≤—Ä–µ–º–µ –æ–¥–∑–∏–≤–∞
        ax2 = plt.subplot(2, 3, 2)
        self._–Ω–∞—Ü—Ä—Ç–∞—ò_–ø–æ—Ä–µ—í–µ—ö–µ(ax2, –º–æ–Ω–æ_–ø–æ–¥–∞—Ü–∏, –º–∏–∫—Ä–æ_–ø–æ–¥–∞—Ü–∏, '–ø95_–≤—Ä–µ–º–µ_–æ–¥–∑–∏–≤–∞',
                              '95. –ø–µ—Ä—Ü–µ–Ω—Ç–∏–ª –≤—Ä–µ–º–µ –æ–¥–∑–∏–≤–∞ (ms)', –æ–∑–Ω–∞–∫–µ_—Å—Ü–µ–Ω–∞—Ä–∏—ò–∞)

        # 3. –ü—Ä–æ–ø—É—Å–Ω–æ—Å—Ç (–∑–∞—Ö—Ç–µ–≤–∏/—Å–µ–∫—É–Ω–¥–∞)
        ax3 = plt.subplot(2, 3, 3)
        self._–Ω–∞—Ü—Ä—Ç–∞—ò_–ø–æ—Ä–µ—í–µ—ö–µ(ax3, –º–æ–Ω–æ_–ø–æ–¥–∞—Ü–∏, –º–∏–∫—Ä–æ_–ø–æ–¥–∞—Ü–∏, '–ø—Ä–æ–ø—É—Å–Ω–æ—Å—Ç',
                              '–ü—Ä–æ–ø—É—Å–Ω–æ—Å—Ç (–∑–∞—Ö—Ç–µ–≤–∞/—Å–µ–∫)', –æ–∑–Ω–∞–∫–µ_—Å—Ü–µ–Ω–∞—Ä–∏—ò–∞)

        # 4. –°—Ç–æ–ø–∞ –≥—Ä–µ—à–∞–∫–∞
        ax4 = plt.subplot(2, 3, 4)
        self._–Ω–∞—Ü—Ä—Ç–∞—ò_–ø–æ—Ä–µ—í–µ—ö–µ(ax4, –º–æ–Ω–æ_–ø–æ–¥–∞—Ü–∏, –º–∏–∫—Ä–æ_–ø–æ–¥–∞—Ü–∏, '—Å—Ç–æ–ø–∞_–≥—Ä–µ—à–∞–∫–∞',
                              '–°—Ç–æ–ø–∞ –≥—Ä–µ—à–∞–∫–∞ (%)', –æ–∑–Ω–∞–∫–µ_—Å—Ü–µ–Ω–∞—Ä–∏—ò–∞)

        # 5. –î–∏—Å—Ç—Ä–∏–±—É—Ü–∏—ò–∞ –≤—Ä–µ–º–µ–Ω–∞ –æ–¥–∑–∏–≤–∞
        ax5 = plt.subplot(2, 3, 5)
        self._–Ω–∞—Ü—Ä—Ç–∞—ò_–¥–∏—Å—Ç—Ä–∏–±—É—Ü–∏—ò—É(ax5, –º–æ–Ω–æ_–ø–æ–¥–∞—Ü–∏, –º–∏–∫—Ä–æ_–ø–æ–¥–∞—Ü–∏, –æ–∑–Ω–∞–∫–µ_—Å—Ü–µ–Ω–∞—Ä–∏—ò–∞)

        # 6. –¢–∞–±–µ–ª–∞ —Å–∞ —Ä–µ–∑–∏–º–µ
        ax6 = plt.subplot(2, 3, 6)
        self._–Ω–∞—Ü—Ä—Ç–∞—ò_—Ç–∞–±–µ–ª—É_—Ä–µ–∑–∏–º–µ–∞(ax6, –º–æ–Ω–æ_–ø–æ–¥–∞—Ü–∏, –º–∏–∫—Ä–æ_–ø–æ–¥–∞—Ü–∏, –æ–∑–Ω–∞–∫–µ_—Å—Ü–µ–Ω–∞—Ä–∏—ò–∞)

        plt.tight_layout()
        plt.savefig('–≥—Ä–∞—Ñ–∏–∫–æ–Ω–∏-–ø–æ—Ä–µ—í–µ—ö–∞-–ø–µ—Ä—Ñ–æ—Ä–º–∞–Ω—Å–∏.png', dpi=300, bbox_inches='tight')
        print("  ‚úì –°–∞—á—É–≤–∞–Ω–æ: –≥—Ä–∞—Ñ–∏–∫–æ–Ω–∏-–ø–æ—Ä–µ—í–µ—ö–∞-–ø–µ—Ä—Ñ–æ—Ä–º–∞–Ω—Å–∏.png")

        # –ì–µ–Ω–µ—Ä–∏—Å–∞—ö–µ –ø–æ—ò–µ–¥–∏–Ω–∞—á–Ω–∏—Ö –≥—Ä–∞—Ñ–∏–∫–æ–Ω–∞ –∑–∞ —Ä–∞–¥
        self._–≥–µ–Ω–µ—Ä–∏—à–∏_–ø–æ—ò–µ–¥–∏–Ω–∞—á–Ω–µ_–≥—Ä–∞—Ñ–∏–∫–æ–Ω–µ(–º–æ–Ω–æ_–ø–æ–¥–∞—Ü–∏, –º–∏–∫—Ä–æ_–ø–æ–¥–∞—Ü–∏, –æ–∑–Ω–∞–∫–µ_—Å—Ü–µ–Ω–∞—Ä–∏—ò–∞)

    def _–Ω–∞—Ü—Ä—Ç–∞—ò_–ø–æ—Ä–µ—í–µ—ö–µ(self, ax, –º–æ–Ω–æ_–ø–æ–¥–∞—Ü–∏, –º–∏–∫—Ä–æ_–ø–æ–¥–∞—Ü–∏, –º–µ—Ç—Ä–∏–∫–∞, –Ω–∞—Å–ª–æ–≤, –æ–∑–Ω–∞–∫–µ):
        """–¶—Ä—Ç–∞ —Å—Ç—É–±–∏—á–∞—Å—Ç–∏ –≥—Ä–∞—Ñ–∏–∫ –ø–æ—Ä–µ—í–µ—ö–∞"""
        x = np.arange(len(–æ–∑–Ω–∞–∫–µ))
        —à–∏—Ä–∏–Ω–∞ = 0.35

        –º–æ–Ω–æ_–≤—Ä–µ–¥–Ω–æ—Å—Ç–∏ = [–º–æ–Ω–æ_–ø–æ–¥–∞—Ü–∏.get(—Å, {}).get(–º–µ—Ç—Ä–∏–∫–∞, 0) for —Å in self.—Å—Ü–µ–Ω–∞—Ä–∏—ò–∏]
        –º–∏–∫—Ä–æ_–≤—Ä–µ–¥–Ω–æ—Å—Ç–∏ = [–º–∏–∫—Ä–æ_–ø–æ–¥–∞—Ü–∏.get(—Å, {}).get(–º–µ—Ç—Ä–∏–∫–∞, 0) for —Å in self.—Å—Ü–µ–Ω–∞—Ä–∏—ò–∏]

        ax.bar(x - —à–∏—Ä–∏–Ω–∞/2, –º–æ–Ω–æ_–≤—Ä–µ–¥–Ω–æ—Å—Ç–∏, —à–∏—Ä–∏–Ω–∞, label='–ú–æ–Ω–æ–ª–∏—Ç', color='#3498db')
        ax.bar(x + —à–∏—Ä–∏–Ω–∞/2, –º–∏–∫—Ä–æ_–≤—Ä–µ–¥–Ω–æ—Å—Ç–∏, —à–∏—Ä–∏–Ω–∞, label='–ú–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å–∏', color='#e74c3c')

        ax.set_xlabel('–û–ø—Ç–µ—Ä–µ—õ–µ—ö–µ –∫–æ—Ä–∏—Å–Ω–∏–∫–∞')
        ax.set_ylabel(–Ω–∞—Å–ª–æ–≤)
        ax.set_title(–Ω–∞—Å–ª–æ–≤)
        ax.set_xticks(x)
        ax.set_xticklabels([–æ–∑–Ω–∞–∫–µ[—Å] for —Å in self.—Å—Ü–µ–Ω–∞—Ä–∏—ò–∏])
        ax.legend()
        ax.grid(axis='y', alpha=0.3)

        # –î–æ–¥–∞–≤–∞—ö–µ –≤—Ä–µ–¥–Ω–æ—Å—Ç–∏ –Ω–∞ —Å—Ç—É–±–∏—õ–µ
        for i, v in enumerate(–º–æ–Ω–æ_–≤—Ä–µ–¥–Ω–æ—Å—Ç–∏):
            ax.text(i - —à–∏—Ä–∏–Ω–∞/2, v, f'{v:.1f}', ha='center', va='bottom', fontsize=8)
        for i, v in enumerate(–º–∏–∫—Ä–æ_–≤—Ä–µ–¥–Ω–æ—Å—Ç–∏):
            ax.text(i + —à–∏—Ä–∏–Ω–∞/2, v, f'{v:.1f}', ha='center', va='bottom', fontsize=8)

    def _–Ω–∞—Ü—Ä—Ç–∞—ò_–¥–∏—Å—Ç—Ä–∏–±—É—Ü–∏—ò—É(self, ax, –º–æ–Ω–æ_–ø–æ–¥–∞—Ü–∏, –º–∏–∫—Ä–æ_–ø–æ–¥–∞—Ü–∏, –æ–∑–Ω–∞–∫–µ):
        """–¶—Ä—Ç–∞ –¥–∏—Å—Ç—Ä–∏–±—É—Ü–∏—ò—É –≤—Ä–µ–º–µ–Ω–∞ –æ–¥–∑–∏–≤–∞"""
        —Å—Ü–µ–Ω–∞—Ä–∏–æ = 'medium_load'

        if —Å—Ü–µ–Ω–∞—Ä–∏–æ in –º–æ–Ω–æ_–ø–æ–¥–∞—Ü–∏ and —Å—Ü–µ–Ω–∞—Ä–∏–æ in –º–∏–∫—Ä–æ_–ø–æ–¥–∞—Ü–∏:
            –º–æ–Ω–æ = –º–æ–Ω–æ_–ø–æ–¥–∞—Ü–∏[—Å—Ü–µ–Ω–∞—Ä–∏–æ]
            –º–∏–∫—Ä–æ = –º–∏–∫—Ä–æ_–ø–æ–¥–∞—Ü–∏[—Å—Ü–µ–Ω–∞—Ä–∏–æ]

            –∫–∞—Ç–µ–≥–æ—Ä–∏—ò–µ = ['–ú–∏–Ω', '–ü—Ä–æ—Å', '–ú–µ–¥', '–ü95', '–ü99', '–ú–∞–∫—Å']
            –º–æ–Ω–æ_–≤—Ä–µ–º–µ–Ω–∞ = [
                –º–æ–Ω–æ.get('–º–∏–Ω_–≤—Ä–µ–º–µ_–æ–¥–∑–∏–≤–∞', 0),
                –º–æ–Ω–æ.get('–ø—Ä–æ—Å–µ—á–Ω–æ_–≤—Ä–µ–º–µ_–æ–¥–∑–∏–≤–∞', 0),
                –º–æ–Ω–æ.get('–º–µ–¥–∏—ò–∞–Ω–∞_–≤—Ä–µ–º–µ–Ω–∞_–æ–¥–∑–∏–≤–∞', 0),
                –º–æ–Ω–æ.get('–ø95_–≤—Ä–µ–º–µ_–æ–¥–∑–∏–≤–∞', 0),
                –º–æ–Ω–æ.get('–ø99_–≤—Ä–µ–º–µ_–æ–¥–∑–∏–≤–∞', 0),
                –º–æ–Ω–æ.get('–º–∞–∫—Å_–≤—Ä–µ–º–µ_–æ–¥–∑–∏–≤–∞', 0)
            ]
            –º–∏–∫—Ä–æ_–≤—Ä–µ–º–µ–Ω–∞ = [
                –º–∏–∫—Ä–æ.get('–º–∏–Ω_–≤—Ä–µ–º–µ_–æ–¥–∑–∏–≤–∞', 0),
                –º–∏–∫—Ä–æ.get('–ø—Ä–æ—Å–µ—á–Ω–æ_–≤—Ä–µ–º–µ_–æ–¥–∑–∏–≤–∞', 0),
                –º–∏–∫—Ä–æ.get('–º–µ–¥–∏—ò–∞–Ω–∞_–≤—Ä–µ–º–µ–Ω–∞_–æ–¥–∑–∏–≤–∞', 0),
                –º–∏–∫—Ä–æ.get('–ø95_–≤—Ä–µ–º–µ_–æ–¥–∑–∏–≤–∞', 0),
                –º–∏–∫—Ä–æ.get('–ø99_–≤—Ä–µ–º–µ_–æ–¥–∑–∏–≤–∞', 0),
                –º–∏–∫—Ä–æ.get('–º–∞–∫—Å_–≤—Ä–µ–º–µ_–æ–¥–∑–∏–≤–∞', 0)
            ]

            x = np.arange(len(–∫–∞—Ç–µ–≥–æ—Ä–∏—ò–µ))
            —à–∏—Ä–∏–Ω–∞ = 0.35

            ax.bar(x - —à–∏—Ä–∏–Ω–∞/2, –º–æ–Ω–æ_–≤—Ä–µ–º–µ–Ω–∞, —à–∏—Ä–∏–Ω–∞, label='–ú–æ–Ω–æ–ª–∏—Ç', color='#3498db')
            ax.bar(x + —à–∏—Ä–∏–Ω–∞/2, –º–∏–∫—Ä–æ_–≤—Ä–µ–º–µ–Ω–∞, —à–∏—Ä–∏–Ω–∞, label='–ú–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å–∏', color='#e74c3c')

            ax.set_xlabel('–ü–µ—Ä—Ü–µ–Ω—Ç–∏–ª')
            ax.set_ylabel('–í—Ä–µ–º–µ –æ–¥–∑–∏–≤–∞ (ms)')
            ax.set_title(f'–î–∏—Å—Ç—Ä–∏–±—É—Ü–∏—ò–∞ –≤—Ä–µ–º–µ–Ω–∞ –æ–¥–∑–∏–≤–∞ ({–æ–∑–Ω–∞–∫–µ[—Å—Ü–µ–Ω–∞—Ä–∏–æ]})')
            ax.set_xticks(x)
            ax.set_xticklabels(–∫–∞—Ç–µ–≥–æ—Ä–∏—ò–µ)
            ax.legend()
            ax.grid(axis='y', alpha=0.3)

    def _–Ω–∞—Ü—Ä—Ç–∞—ò_—Ç–∞–±–µ–ª—É_—Ä–µ–∑–∏–º–µ–∞(self, ax, –º–æ–Ω–æ_–ø–æ–¥–∞—Ü–∏, –º–∏–∫—Ä–æ_–ø–æ–¥–∞—Ü–∏, –æ–∑–Ω–∞–∫–µ):
        """–¶—Ä—Ç–∞ —Ç–∞–±–µ–ª—É —Å–∞ —Ä–µ–∑–∏–º–µ–æ–º"""
        ax.axis('off')

        # –ò–∑—Ä–∞—á—É–Ω–∞–≤–∞—ö–µ –ø—Ä–æ—Å–µ–∫–∞
        –º–æ–Ω–æ_–ø—Ä–æ—Å_–æ–¥–∑–∏–≤ = np.mean([–º–æ–Ω–æ_–ø–æ–¥–∞—Ü–∏.get(—Å, {}).get('–ø—Ä–æ—Å–µ—á–Ω–æ_–≤—Ä–µ–º–µ_–æ–¥–∑–∏–≤–∞', 0) for —Å in self.—Å—Ü–µ–Ω–∞—Ä–∏—ò–∏])
        –º–∏–∫—Ä–æ_–ø—Ä–æ—Å_–æ–¥–∑–∏–≤ = np.mean([–º–∏–∫—Ä–æ_–ø–æ–¥–∞—Ü–∏.get(—Å, {}).get('–ø—Ä–æ—Å–µ—á–Ω–æ_–≤—Ä–µ–º–µ_–æ–¥–∑–∏–≤–∞', 0) for —Å in self.—Å—Ü–µ–Ω–∞—Ä–∏—ò–∏])
        —Ä–∞–∑–ª–∏–∫–∞_–æ–¥–∑–∏–≤–∞ = ((–º–∏–∫—Ä–æ_–ø—Ä–æ—Å_–æ–¥–∑–∏–≤ - –º–æ–Ω–æ_–ø—Ä–æ—Å_–æ–¥–∑–∏–≤) / –º–æ–Ω–æ_–ø—Ä–æ—Å_–æ–¥–∑–∏–≤) * 100 if –º–æ–Ω–æ_–ø—Ä–æ—Å_–æ–¥–∑–∏–≤ > 0 else 0

        –º–æ–Ω–æ_–ø—Ä–æ—Å_–ø—Ä–æ–ø—É—Å–Ω–æ—Å—Ç = np.mean([–º–æ–Ω–æ_–ø–æ–¥–∞—Ü–∏.get(—Å, {}).get('–ø—Ä–æ–ø—É—Å–Ω–æ—Å—Ç', 0) for —Å in self.—Å—Ü–µ–Ω–∞—Ä–∏—ò–∏])
        –º–∏–∫—Ä–æ_–ø—Ä–æ—Å_–ø—Ä–æ–ø—É—Å–Ω–æ—Å—Ç = np.mean([–º–∏–∫—Ä–æ_–ø–æ–¥–∞—Ü–∏.get(—Å, {}).get('–ø—Ä–æ–ø—É—Å–Ω–æ—Å—Ç', 0) for —Å in self.—Å—Ü–µ–Ω–∞—Ä–∏—ò–∏])
        —Ä–∞–∑–ª–∏–∫–∞_–ø—Ä–æ–ø—É—Å–Ω–æ—Å—Ç–∏ = ((–º–∏–∫—Ä–æ_–ø—Ä–æ—Å_–ø—Ä–æ–ø—É—Å–Ω–æ—Å—Ç - –º–æ–Ω–æ_–ø—Ä–æ—Å_–ø—Ä–æ–ø—É—Å–Ω–æ—Å—Ç) / –º–æ–Ω–æ_–ø—Ä–æ—Å_–ø—Ä–æ–ø—É—Å–Ω–æ—Å—Ç) * 100 if –º–æ–Ω–æ_–ø—Ä–æ—Å_–ø—Ä–æ–ø—É—Å–Ω–æ—Å—Ç > 0 else 0

        –ø–æ–¥–∞—Ü–∏_—Ç–∞–±–µ–ª–µ = [
            ['–ú–µ—Ç—Ä–∏–∫–∞', '–ú–æ–Ω–æ–ª–∏—Ç', '–ú–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å–∏', '–†–∞–∑–ª–∏–∫–∞'],
            ['–ü—Ä–æ—Å. –≤—Ä–µ–º–µ –æ–¥–∑–∏–≤–∞', f'{–º–æ–Ω–æ_–ø—Ä–æ—Å_–æ–¥–∑–∏–≤:.1f} ms', f'{–º–∏–∫—Ä–æ_–ø—Ä–æ—Å_–æ–¥–∑–∏–≤:.1f} ms', f'{—Ä–∞–∑–ª–∏–∫–∞_–æ–¥–∑–∏–≤–∞:+.1f}%'],
            ['–ü—Ä–æ—Å. –ø—Ä–æ–ø—É—Å–Ω–æ—Å—Ç', f'{–º–æ–Ω–æ_–ø—Ä–æ—Å_–ø—Ä–æ–ø—É—Å–Ω–æ—Å—Ç:.1f} –∑–∞—Ö/—Å', f'{–º–∏–∫—Ä–æ_–ø—Ä–æ—Å_–ø—Ä–æ–ø—É—Å–Ω–æ—Å—Ç—å:.1f} –∑–∞—Ö/—Å', f'{—Ä–∞–∑–ª–∏–∫–∞_–ø—Ä–æ–ø—É—Å–Ω–æ—Å—Ç–∏:+.1f}%'],
        ]

        —Ç–∞–±–µ–ª–∞ = ax.table(cellText=–ø–æ–¥–∞—Ü–∏_—Ç–∞–±–µ–ª–µ, cellLoc='center', loc='center',
                         colWidths=[0.3, 0.25, 0.25, 0.2])
        —Ç–∞–±–µ–ª–∞.auto_set_font_size(False)
        —Ç–∞–±–µ–ª–∞.set_fontsize(10)
        —Ç–∞–±–µ–ª–∞.scale(1, 2)

        # –°—Ç–∏–ª–∏–∑–æ–≤–∞—ö–µ –∑–∞–≥–ª–∞–≤—ô–∞
        for i in range(4):
            —Ç–∞–±–µ–ª–∞[(0, i)].set_facecolor('#3498db')
            —Ç–∞–±–µ–ª–∞[(0, i)].set_text_props(weight='bold', color='white')

        ax.set_title('–†–µ–∑–∏–º–µ –ø–µ—Ä—Ñ–æ—Ä–º–∞–Ω—Å–∏', fontweight='bold', pad=20)

    def _–≥–µ–Ω–µ—Ä–∏—à–∏_–ø–æ—ò–µ–¥–∏–Ω–∞—á–Ω–µ_–≥—Ä–∞—Ñ–∏–∫–æ–Ω–µ(self, –º–æ–Ω–æ_–ø–æ–¥–∞—Ü–∏, –º–∏–∫—Ä–æ_–ø–æ–¥–∞—Ü–∏, –æ–∑–Ω–∞–∫–µ):
        """–ì–µ–Ω–µ—Ä–∏—à–µ –ø–æ—ò–µ–¥–∏–Ω–∞—á–Ω–µ –≥—Ä–∞—Ñ–∏–∫–æ–Ω–µ –∑–∞ —É–∫—ô—É—á–∏–≤–∞—ö–µ —É —Ä–∞–¥"""
        print("\nüìà –ì–µ–Ω–µ—Ä–∏—Å–∞—ö–µ –ø–æ—ò–µ–¥–∏–Ω–∞—á–Ω–∏—Ö –≥—Ä–∞—Ñ–∏–∫–æ–Ω–∞...")

        # –ì—Ä–∞—Ñ–∏–∫ 1: –í—Ä–µ–º–µ –æ–¥–∑–∏–≤–∞ vs –ë—Ä–æ—ò –∫–æ—Ä–∏—Å–Ω–∏–∫–∞
        plt.figure(figsize=(10, 6))
        x = [5, 20, 50]  # –û–ø—Ç–µ—Ä–µ—õ–µ—ö–µ –∫–æ—Ä–∏—Å–Ω–∏–∫–∞
        –º–æ–Ω–æ_–æ–¥–∑–∏–≤ = [–º–æ–Ω–æ_–ø–æ–¥–∞—Ü–∏.get(—Å, {}).get('–ø—Ä–æ—Å–µ—á–Ω–æ_–≤—Ä–µ–º–µ_–æ–¥–∑–∏–≤–∞', 0) for —Å in self.—Å—Ü–µ–Ω–∞—Ä–∏—ò–∏]
        –º–∏–∫—Ä–æ_–æ–¥–∑–∏–≤ = [–º–∏–∫—Ä–æ_–ø–æ–¥–∞—Ü–∏.get(—Å, {}).get('–ø—Ä–æ—Å–µ—á–Ω–æ_–≤—Ä–µ–º–µ_–æ–¥–∑–∏–≤–∞', 0) for —Å in self.—Å—Ü–µ–Ω–∞—Ä–∏—ò–∏]

        plt.plot(x, –º–æ–Ω–æ_–æ–¥–∑–∏–≤, marker='o', linewidth=2, markersize=8, label='–ú–æ–Ω–æ–ª–∏—Ç', color='#3498db')
        plt.plot(x, –º–∏–∫—Ä–æ_–æ–¥–∑–∏–≤, marker='s', linewidth=2, markersize=8, label='–ú–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å–∏', color='#e74c3c')

        plt.xlabel('–ë—Ä–æ—ò –∏—Å—Ç–æ–≤—Ä–µ–º–µ–Ω–∏—Ö –∫–æ—Ä–∏—Å–Ω–∏–∫–∞', fontsize=12)
        plt.ylabel('–ü—Ä–æ—Å–µ—á–Ω–æ –≤—Ä–µ–º–µ –æ–¥–∑–∏–≤–∞ (ms)', fontsize=12)
        plt.title('–í—Ä–µ–º–µ –æ–¥–∑–∏–≤–∞ —É –æ–¥–Ω–æ—Å—É –Ω–∞ –±—Ä–æ—ò –∫–æ—Ä–∏—Å–Ω–∏–∫–∞', fontsize=14, fontweight='bold')
        plt.legend(fontsize=11)
        plt.grid(True, alpha=0.3)
        plt.tight_layout()
        plt.savefig('–≥—Ä–∞—Ñ–∏–∫-–≤—Ä–µ–º–µ-–æ–¥–∑–∏–≤–∞-–∫–æ—Ä–∏—Å–Ω–∏—Ü–∏.png', dpi=300)
        print("  ‚úì –°–∞—á—É–≤–∞–Ω–æ: –≥—Ä–∞—Ñ–∏–∫-–≤—Ä–µ–º–µ-–æ–¥–∑–∏–≤–∞-–∫–æ—Ä–∏—Å–Ω–∏—Ü–∏.png")

        # –ì—Ä–∞—Ñ–∏–∫ 2: –ü—Ä–æ–ø—É—Å–Ω–æ—Å—Ç vs –ë—Ä–æ—ò –∫–æ—Ä–∏—Å–Ω–∏–∫–∞
        plt.figure(figsize=(10, 6))
        –º–æ–Ω–æ_–ø—Ä–æ–ø—É—Å–Ω–æ—Å—Ç = [–º–æ–Ω–æ_–ø–æ–¥–∞—Ü–∏.get(—Å, {}).get('–ø—Ä–æ–ø—É—Å–Ω–æ—Å—Ç', 0) for —Å in self.—Å—Ü–µ–Ω–∞—Ä–∏—ò–∏]
        –º–∏–∫—Ä–æ_–ø—Ä–æ–ø—É—Å–Ω–æ—Å—Ç = [–º–∏–∫—Ä–æ_–ø–æ–¥–∞—Ü–∏.get(—Å, {}).get('–ø—Ä–æ–ø—É—Å–Ω–æ—Å—Ç', 0) for —Å in self.—Å—Ü–µ–Ω–∞—Ä–∏—ò–∏]

        plt.plot(x, –º–æ–Ω–æ_–ø—Ä–æ–ø—É—Å–Ω–æ—Å—Ç, marker='o', linewidth=2, markersize=8, label='–ú–æ–Ω–æ–ª–∏—Ç', color='#3498db')
        plt.plot(x, –º–∏–∫—Ä–æ_–ø—Ä–æ–ø—É—Å–Ω–æ—Å—Ç, marker='s', linewidth=2, markersize=8, label='–ú–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å–∏', color='#e74c3c')

        plt.xlabel('–ë—Ä–æ—ò –∏—Å—Ç–æ–≤—Ä–µ–º–µ–Ω–∏—Ö –∫–æ—Ä–∏—Å–Ω–∏–∫–∞', fontsize=12)
        plt.ylabel('–ü—Ä–æ–ø—É—Å–Ω–æ—Å—Ç (–∑–∞—Ö—Ç–µ–≤–∞/—Å–µ–∫—É–Ω–¥–∞)', fontsize=12)
        plt.title('–ü—Ä–æ–ø—É—Å–Ω–æ—Å—Ç —É –æ–¥–Ω–æ—Å—É –Ω–∞ –±—Ä–æ—ò –∫–æ—Ä–∏—Å–Ω–∏–∫–∞', fontsize=14, fontweight='bold')
        plt.legend(fontsize=11)
        plt.grid(True, alpha=0.3)
        plt.tight_layout()
        plt.savefig('–≥—Ä–∞—Ñ–∏–∫-–ø—Ä–æ–ø—É—Å–Ω–æ—Å—Ç-–∫–æ—Ä–∏—Å–Ω–∏—Ü–∏.png', dpi=300)
        print("  ‚úì –°–∞—á—É–≤–∞–Ω–æ: –≥—Ä–∞—Ñ–∏–∫-–ø—Ä–æ–ø—É—Å–Ω–æ—Å—Ç-–∫–æ—Ä–∏—Å–Ω–∏—Ü–∏.png")

    def –≥–µ–Ω–µ—Ä–∏—à–∏_—Ö—Ç–º–ª_–∏–∑–≤–µ—à—Ç–∞—ò(self):
        """–ì–µ–Ω–µ—Ä–∏—à–µ HTML –∏–∑–≤–µ—à—Ç–∞—ò"""
        print("\nüìÑ –ì–µ–Ω–µ—Ä–∏—Å–∞—ö–µ HTML –∏–∑–≤–µ—à—Ç–∞—ò–∞...")

        —Ö—Ç–º–ª = f"""
<!DOCTYPE html>
<html lang="sr">
<head>
    <meta charset="UTF-8">
    <title>–ò–∑–≤–µ—à—Ç–∞—ò –ø–æ—Ä–µ—í–µ—ö–∞ –ø–µ—Ä—Ñ–æ—Ä–º–∞–Ω—Å–∏</title>
    <style>
        body {{ font-family: Arial, sans-serif; margin: 40px; background: #f5f5f5; }}
        .container {{ max-width: 1200px; margin: 0 auto; background: white; padding: 40px; border-radius: 8px; box-shadow: 0 2px 10px rgba(0,0,0,0.1); }}
        h1 {{ color: #2c3e50; border-bottom: 3px solid #3498db; padding-bottom: 10px; }}
        h2 {{ color: #34495e; margin-top: 30px; }}
        table {{ width: 100%; border-collapse: collapse; margin: 20px 0; }}
        th, td {{ padding: 12px; text-align: left; border-bottom: 1px solid #ddd; }}
        th {{ background-color: #3498db; color: white; }}
        tr:hover {{ background-color: #f5f5f5; }}
        .–º–æ–Ω–æ {{ color: #3498db; font-weight: bold; }}
        .–º–∏–∫—Ä–æ {{ color: #e74c3c; font-weight: bold; }}
        .–±–æ—ô–µ {{ color: #27ae60; }}
        .–≥–æ—Ä–µ {{ color: #e74c3c; }}
        img {{ max-width: 100%; height: auto; margin: 20px 0; border: 1px solid #ddd; border-radius: 4px; }}
    </style>
</head>
<body>
    <div class="container">
        <h1>–ò–∑–≤–µ—à—Ç–∞—ò –ø–æ—Ä–µ—í–µ—ö–∞ –ø–µ—Ä—Ñ–æ—Ä–º–∞–Ω—Å–∏ –ö–≤–∏–∑–•–∞–± –∞–ø–ª–∏–∫–∞—Ü–∏—ò–µ</h1>
        <p><strong>–î–∞—Ç—É–º:</strong> {datetime.now().strftime("%d.%m.%Y. %H:%M:%S")}</p>
        <p><strong>–°—Ü–µ–Ω–∞—Ä–∏—ò–∏ —Ç–µ—Å—Ç–∏—Ä–∞—ö–∞:</strong> –õ–∞–∫–æ (5 –∫–æ—Ä–∏—Å–Ω–∏–∫–∞), –°—Ä–µ–¥—ö–µ (20 –∫–æ—Ä–∏—Å–Ω–∏–∫–∞), –¢–µ—à–∫–æ (50 –∫–æ—Ä–∏—Å–Ω–∏–∫–∞)</p>

        <h2>üìä –í–∏–∑—É–µ–ª–Ω–æ –ø–æ—Ä–µ—í–µ—ö–µ</h2>
        <img src="–≥—Ä–∞—Ñ–∏–∫–æ–Ω–∏-–ø–æ—Ä–µ—í–µ—ö–∞-–ø–µ—Ä—Ñ–æ—Ä–º–∞–Ω—Å–∏.png" alt="–ü–æ—Ä–µ—í–µ—ö–µ –ø–µ—Ä—Ñ–æ—Ä–º–∞–Ω—Å–∏">

        <h2>üìà –ö—ô—É—á–Ω–∏ –Ω–∞–ª–∞–∑–∏</h2>
"""

        # –î–æ–¥–∞–≤–∞—ö–µ —Ä–µ–∑—É–ª—Ç–∞—Ç–∞ –ø–æ —Å—Ü–µ–Ω–∞—Ä–∏—ò–∏–º–∞
        for —Å—Ü–µ–Ω–∞—Ä–∏–æ in self.—Å—Ü–µ–Ω–∞—Ä–∏—ò–∏:
            if —Å—Ü–µ–Ω–∞—Ä–∏–æ in self.—Ä–µ–∑—É–ª—Ç–∞—Ç–∏['–º–æ–Ω–æ–ª–∏—Ç'] and —Å—Ü–µ–Ω–∞—Ä–∏–æ in self.—Ä–µ–∑—É–ª—Ç–∞—Ç–∏['–º–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å–∏']:
                –º–æ–Ω–æ = self.–∏–∑–¥–≤–æ—ò_–º–µ—Ç—Ä–∏–∫–µ(self.—Ä–µ–∑—É–ª—Ç–∞—Ç–∏['–º–æ–Ω–æ–ª–∏—Ç'][—Å—Ü–µ–Ω–∞—Ä–∏–æ])
                –º–∏–∫—Ä–æ = self.–∏–∑–¥–≤–æ—ò_–º–µ—Ç—Ä–∏–∫–µ(self.—Ä–µ–∑—É–ª—Ç–∞—Ç–∏['–º–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å–∏'][—Å—Ü–µ–Ω–∞—Ä–∏–æ])

                —Ö—Ç–º–ª += f"""
        <h3>{self.–Ω–∞–∑–∏–≤–∏_—Å—Ü–µ–Ω–∞—Ä–∏—ò–∞[—Å—Ü–µ–Ω–∞—Ä–∏–æ]}</h3>
        <table>
            <tr>
                <th>–ú–µ—Ç—Ä–∏–∫–∞</th>
                <th class="–º–æ–Ω–æ">–ú–æ–Ω–æ–ª–∏—Ç</th>
                <th class="–º–∏–∫—Ä–æ">–ú–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å–∏</th>
                <th>–†–∞–∑–ª–∏–∫–∞</th>
            </tr>
            <tr>
                <td>–ü—Ä–æ—Å–µ—á–Ω–æ –≤—Ä–µ–º–µ –æ–¥–∑–∏–≤–∞</td>
                <td>{–º–æ–Ω–æ['–ø—Ä–æ—Å–µ—á–Ω–æ_–≤—Ä–µ–º–µ_–æ–¥–∑–∏–≤–∞']:.2f} ms</td>
                <td>{–º–∏–∫—Ä–æ['–ø—Ä–æ—Å–µ—á–Ω–æ_–≤—Ä–µ–º–µ_–æ–¥–∑–∏–≤–∞']:.2f} ms</td>
                <td class="{'–±–æ—ô–µ' if –º–∏–∫—Ä–æ['–ø—Ä–æ—Å–µ—á–Ω–æ_–≤—Ä–µ–º–µ_–æ–¥–∑–∏–≤–∞'] < –º–æ–Ω–æ['–ø—Ä–æ—Å–µ—á–Ω–æ_–≤—Ä–µ–º–µ_–æ–¥–∑–∏–≤–∞'] else '–≥–æ—Ä–µ'}">
                    {((–º–∏–∫—Ä–æ['–ø—Ä–æ—Å–µ—á–Ω–æ_–≤—Ä–µ–º–µ_–æ–¥–∑–∏–≤–∞'] - –º–æ–Ω–æ['–ø—Ä–æ—Å–µ—á–Ω–æ_–≤—Ä–µ–º–µ_–æ–¥–∑–∏–≤–∞']) / –º–æ–Ω–æ['–ø—Ä–æ—Å–µ—á–Ω–æ_–≤—Ä–µ–º–µ_–æ–¥–∑–∏–≤–∞'] * 100):+.1f}%
                </td>
            </tr>
            <tr>
                <td>95. –ø–µ—Ä—Ü–µ–Ω—Ç–∏–ª</td>
                <td>{–º–æ–Ω–æ['–ø95_–≤—Ä–µ–º–µ_–æ–¥–∑–∏–≤–∞']:.2f} ms</td>
                <td>{–º–∏–∫—Ä–æ['–ø95_–≤—Ä–µ–º–µ_–æ–¥–∑–∏–≤–∞']:.2f} ms</td>
                <td class="{'–±–æ—ô–µ' if –º–∏–∫—Ä–æ['–ø95_–≤—Ä–µ–º–µ_–æ–¥–∑–∏–≤–∞'] < –º–æ–Ω–æ['–ø95_–≤—Ä–µ–º–µ_–æ–¥–∑–∏–≤–∞'] else '–≥–æ—Ä–µ'}">
                    {((–º–∏–∫—Ä–æ['–ø95_–≤—Ä–µ–º–µ_–æ–¥–∑–∏–≤–∞'] - –º–æ–Ω–æ['–ø95_–≤—Ä–µ–º–µ_–æ–¥–∑–∏–≤–∞']) / –º–æ–Ω–æ['–ø95_–≤—Ä–µ–º–µ_–æ–¥–∑–∏–≤–∞'] * 100):+.1f}%
                </td>
            </tr>
            <tr>
                <td>–ü—Ä–æ–ø—É—Å–Ω–æ—Å—Ç</td>
                <td>{–º–æ–Ω–æ['–ø—Ä–æ–ø—É—Å–Ω–æ—Å—Ç']:.2f} –∑–∞—Ö/—Å</td>
                <td>{–º–∏–∫—Ä–æ['–ø—Ä–æ–ø—É—Å–Ω–æ—Å—Ç']:.2f} –∑–∞—Ö/—Å</td>
                <td class="{'–±–æ—ô–µ' if –º–∏–∫—Ä–æ['–ø—Ä–æ–ø—É—Å–Ω–æ—Å—Ç'] > –º–æ–Ω–æ['–ø—Ä–æ–ø—É—Å–Ω–æ—Å—Ç'] else '–≥–æ—Ä–µ'}">
                    {((–º–∏–∫—Ä–æ['–ø—Ä–æ–ø—É—Å–Ω–æ—Å—Ç'] - –º–æ–Ω–æ['–ø—Ä–æ–ø—É—Å–Ω–æ—Å—Ç']) / –º–æ–Ω–æ['–ø—Ä–æ–ø—É—Å–Ω–æ—Å—Ç'] * 100):+.1f}%
                </td>
            </tr>
            <tr>
                <td>–°—Ç–æ–ø–∞ –≥—Ä–µ—à–∞–∫–∞</td>
                <td>{–º–æ–Ω–æ['—Å—Ç–æ–ø–∞_–≥—Ä–µ—à–∞–∫–∞']:.2f}%</td>
                <td>{–º–∏–∫—Ä–æ['—Å—Ç–æ–ø–∞_–≥—Ä–µ—à–∞–∫–∞']:.2f}%</td>
                <td class="{'–±–æ—ô–µ' if –º–∏–∫—Ä–æ['—Å—Ç–æ–ø–∞_–≥—Ä–µ—à–∞–∫–∞'] < –º–æ–Ω–æ['—Å—Ç–æ–ø–∞_–≥—Ä–µ—à–∞–∫–∞'] else '–≥–æ—Ä–µ'}">
                    {(–º–∏–∫—Ä–æ['—Å—Ç–æ–ø–∞_–≥—Ä–µ—à–∞–∫–∞'] - –º–æ–Ω–æ['—Å—Ç–æ–ø–∞_–≥—Ä–µ—à–∞–∫–∞']):+.2f}%
                </td>
            </tr>
        </table>
"""

        —Ö—Ç–º–ª += """
        <h2>üéì –ì—Ä–∞—Ñ–∏–∫–æ–Ω–∏ –∑–∞ –∑–∞–≤—Ä—à–Ω–∏ —Ä–∞–¥</h2>
        <p>–ü–æ—ò–µ–¥–∏–Ω–∞—á–Ω–∏ –≥—Ä–∞—Ñ–∏–∫–æ–Ω–∏ –∑–∞ —É–∫—ô—É—á–∏–≤–∞—ö–µ —É —Ä–∞–¥:</p>
        <img src="–≥—Ä–∞—Ñ–∏–∫-–≤—Ä–µ–º–µ-–æ–¥–∑–∏–≤–∞-–∫–æ—Ä–∏—Å–Ω–∏—Ü–∏.png" alt="–í—Ä–µ–º–µ –æ–¥–∑–∏–≤–∞ vs –ö–æ—Ä–∏—Å–Ω–∏—Ü–∏">
        <img src="–≥—Ä–∞—Ñ–∏–∫-–ø—Ä–æ–ø—É—Å–Ω–æ—Å—Ç-–∫–æ—Ä–∏—Å–Ω–∏—Ü–∏.png" alt="–ü—Ä–æ–ø—É—Å–Ω–æ—Å—Ç vs –ö–æ—Ä–∏—Å–Ω–∏—Ü–∏">

        <h2>üìù –ó–∞–∫—ô—É—á–∞–∫</h2>
        <p>–û–≤–æ –ø–æ—Ä–µ—í–µ—ö–µ –ø–æ–∫–∞–∑—É—ò–µ –∫–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–µ –ø–µ—Ä—Ñ–æ—Ä–º–∞–Ω—Å–∏ –∏ –∫–æ–º–ø—Ä–æ–º–∏—Å–µ –∏–∑–º–µ—í—É –º–æ–Ω–æ–ª–∏—Ç–Ω–µ –∏ –º–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å–Ω–µ –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–µ –ø–æ–¥ —Ä–∞–∑–ª–∏—á–∏—Ç–∏–º –æ–ø—Ç–µ—Ä–µ—õ–µ—ö–∏–º–∞ –∫–æ—Ä–∏—Å–Ω–∏–∫–∞.</p>
    </div>
</body>
</html>
"""

        with open('–∏–∑–≤–µ—à—Ç–∞—ò-–ø–æ—Ä–µ—í–µ—ö–∞.html', 'w', encoding='utf-8') as f:
            f.write(—Ö—Ç–º–ª)

        print("  ‚úì –°–∞—á—É–≤–∞–Ω–æ: –∏–∑–≤–µ—à—Ç–∞—ò-–ø–æ—Ä–µ—í–µ—ö–∞.html")

    def –ø–æ–∫—Ä–µ–Ω–∏_–∞–Ω–∞–ª–∏–∑—É(self):
        """–ü–æ–∫—Ä–µ—õ–µ –∫–æ–º–ø–ª–µ—Ç–Ω—É –∞–Ω–∞–ª–∏–∑—É"""
        print("\n‚ïî‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïó")
        print("‚ïë   –ê–ª–∞—Ç –∑–∞ –∞–Ω–∞–ª–∏–∑—É –ø–µ—Ä—Ñ–æ—Ä–º–∞–Ω—Å–∏             ‚ïë")
        print("‚ïö‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïù\n")

        if not self.—É—á–∏—Ç–∞—ò_—Ä–µ–∑—É–ª—Ç–∞—Ç–µ():
            return False

        self.–≥–µ–Ω–µ—Ä–∏—à–∏_–≥—Ä–∞—Ñ–∏–∫–æ–Ω–µ()
        self.–≥–µ–Ω–µ—Ä–∏—à–∏_—Ö—Ç–º–ª_–∏–∑–≤–µ—à—Ç–∞—ò()

        print("\n‚úÖ –ê–Ω–∞–ª–∏–∑–∞ –∑–∞–≤—Ä—à–µ–Ω–∞!")
        print("\nüìÅ –ì–µ–Ω–µ—Ä–∏—Å–∞–Ω–∏ —Ñ–∞—ò–ª–æ–≤–∏:")
        print("  - –≥—Ä–∞—Ñ–∏–∫–æ–Ω–∏-–ø–æ—Ä–µ—í–µ—ö–∞-–ø–µ—Ä—Ñ–æ—Ä–º–∞–Ω—Å–∏.png (—Å–≤–∏ –≥—Ä–∞—Ñ–∏–∫–æ–Ω–∏)")
        print("  - –≥—Ä–∞—Ñ–∏–∫-–≤—Ä–µ–º–µ-–æ–¥–∑–∏–≤–∞-–∫–æ—Ä–∏—Å–Ω–∏—Ü–∏.png (–∑–∞ —Ä–∞–¥)")
        print("  - –≥—Ä–∞—Ñ–∏–∫-–ø—Ä–æ–ø—É—Å–Ω–æ—Å—Ç-–∫–æ—Ä–∏—Å–Ω–∏—Ü–∏.png (–∑–∞ —Ä–∞–¥)")
        print("  - –∏–∑–≤–µ—à—Ç–∞—ò-–ø–æ—Ä–µ—í–µ—ö–∞.html (–∫–æ–º–ø–ª–µ—Ç–∞–Ω –∏–∑–≤–µ—à—Ç–∞—ò)")

        print("\nüìñ –û—Ç–≤–æ—Ä–∏—Ç–µ –∏–∑–≤–µ—à—Ç–∞—ò-–ø–æ—Ä–µ—í–µ—ö–∞.html —É –ø—Ä–µ—Ç—Ä–∞–∂–∏–≤–∞—á—É –∑–∞ –ø—Ä–µ–≥–ª–µ–¥ —Ä–µ–∑—É–ª—Ç–∞—Ç–∞!")

        return True


if __name__ == '__main__':
    try:
        import matplotlib
        –∞–Ω–∞–ª–∏–∑–∞—Ç–æ—Ä = –ê–Ω–∞–ª–∏–∑–∞—Ç–æ—Ä–ü–µ—Ä—Ñ–æ—Ä–º–∞–Ω—Å–∏()
        –∞–Ω–∞–ª–∏–∑–∞—Ç–æ—Ä.–ø–æ–∫—Ä–µ–Ω–∏_–∞–Ω–∞–ª–∏–∑—É()
    except ImportError:
        print("‚ùå –ì—Ä–µ—à–∫–∞: –ø–æ—Ç—Ä–µ–±–∞–Ω —ò–µ matplotlib")
        print("   –ò–Ω—Å—Ç–∞–ª–∏—Ä–∞—ò—Ç–µ —Å–∞: pip install matplotlib")
        print("   –ò–ª–∏: pip install matplotlib numpy")
